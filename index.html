<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="columnchart.js"></script>
    <script src="histchart.js"></script>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <!-- Ikke indekser  -->
    <meta name="googlebot" content="noindex">
    <meta name="robots" content="noindex, nofollow">
</head>

<body>

    <h1>Naturviternes lønnsstatistikk 2019</h1>
<p>Dette er en nettside for intern bruk. Har du havnet her ved en feil? Gå til <a href="https://naturviterne.no">Naturviterne.no</a>.</p>
<ul>
<li><a href="histchart.html">Historisk lønnsutvikling etter sektor</a></li>
<li><a href="columnchart.html">Gjennomsnitt og median etter sektor</a></li>
</ul>

    <!-- <script>

        document.addEventListener('DOMContentLoaded', function () {

            let medianData = fetch('/set1');
            let gjData = fetch('/set2')
            Promise.all([medianData, gjData])
                .then((res) => Promise.all(res.map(res => res.json())))
                .then((data) => {
                    let mean = data[0];
                    let median = data[1];
                    console.log("MEDIAN: ", median)
                    console.log("GJENNOMSNITT:", mean)
                    // let output = '<h2>Median</h2>'

                    // let output = '<h2>Gjennomsnitt</h2>'

                    const privatMD = median.find(element => element["Sektor"] === 'Privat');
                    const statMD = median.find(element => element["Sektor"] === 'Stat');
                    const kommuneMD = median.find(element => element["Sektor"] === 'Kommune');
                    const alleMD = median.find(element => element["Sektor"] === 'Alle');
                    const privatGJ = mean.find(element => element["Sektor"] === 'Privat');
                    const statGJ = mean.find(element => element["Sektor"] === 'Stat');
                    const kommuneGJ = mean.find(element => element["Sektor"] === 'Kommune');
                    const alleGJ = mean.find(element => element["Sektor"] === 'Alle');

                    let optionsGJ = {
                        chart: {
                            renderTo: 'container',
                        },
                        title: {
                            text: 'Historisk lønnsutvikling etter sektor'
                        },
                        xAxis: {
                            categories: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019],
                            title: {
                                text: 'År'
                            }
                        },
                        tooltip: {
                            formatter: function () {
                                return 'Gjennomsnitt for ' + this.x + ' i sektor ' + this.point.series.name.toLowerCase() + ': ' + Math.round(this.y) + ' kroner';
                            }
                        },
                        yAxis: {
                            title: {
                                text: 'Gjennomsnittlig årslønn'
                            }
                        },
                        series: []
                    };


                    optionsGJ.series.push({
                        name: 'Kommune',
                        data: [506000, 522000, 544000, 553000, 576000, 596000, 613846, kommuneGJ['Gjennomsnittslønn']],
                        color: '#92bfd5',
                    })

                    optionsGJ.series.push({
                        name: 'Stat',
                        data: [522000, 530000, 551000, 556000, 576000, 585000, 605455, statGJ['Gjennomsnittslønn']],
                        color: '#94c43a',
                    })

                    optionsGJ.series.push({
                        name: 'Privat',
                        data: [544000, 556000, 576000, 587000, 605000, 621000, 655355, privatGJ['Gjennomsnittslønn']],
                        color: '#F59E00',
                    })

                    let chart = new Highcharts.Chart(optionsGJ);




                    let optionsMD = {
                        chart: {
                            type: 'column',
                            renderTo: 'container2',
                        },
                        title: {
                            text: 'Gjennomsnitt og median etter sektor'
                        },
                        xAxis: {
                            type: 'category',
                            categories: [
                                'Kommune',
                                'Stat',
                                'Privat',
                                'Alle'
                            ]

                        },
                        tooltip: {
                            formatter: function () {
                                return this.series.name + ': ' + Math.round(this.y) + ' kroner</b>';
                            }
                        },
                        yAxis: {
                            allowDecimals: false,
                            title: {
                                text: 'Årslønn'
                            }
                        },
                        series: []
                    };

                    optionsMD.series.push({
                        name: 'Gjennomsnittslønn',
                        data: [kommuneGJ['Gjennomsnittslønn'], statGJ['Gjennomsnittslønn'], privatGJ['Gjennomsnittslønn'], alleMD['Medianlønn']],
                        color: '#6E6B05',
                    })

                    optionsMD.series.push({
                        name: 'Medianlønn',
                        data: [kommuneMD['Medianlønn'], statMD['Medianlønn'], privatMD['Medianlønn'], alleMD['Medianlønn']],
                        color: '#92bfd5',
                    })


                    let chart2 = new Highcharts.Chart(optionsMD);
                });
        });


    </script> -->


</body>

</html>